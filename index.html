<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wallet Connect - BSC</title>
  <!-- Import Web3.js -->
  <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
  <!-- Import WalletConnect Provider -->
  <script src="https://unpkg.com/@walletconnect/web3-provider@1.6.6/dist/umd/index.min.js"></script>
</head>
<body>
  <button id="connectWalletButton">Connect Wallet</button>
  <p id="walletAddress">Wallet Address: Not Connected</p>

  <script type="text/javascript">
    const connectWalletButton = document.getElementById("connectWalletButton");
    const walletAddressDisplay = document.getElementById("walletAddress");

    // MetaMask and WalletConnect logic using Binance Smart Chain
    async function connectWallet() {
      if (window.ethereum) {
        try {
          // MetaMask connection for BSC
          const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
          const walletAddress = accounts[0];
          walletAddressDisplay.textContent = `Wallet Address: ${walletAddress}`;
          console.log("Connected with MetaMask: ", walletAddress);
        } catch (error) {
          console.error("User rejected request");
        }
      } else {
        // WalletConnect (for mobile and other wallets)
        const provider = new WalletConnectProvider({
          rpc: {
            56: "https://bsc-dataseed.binance.org/",  // Mainnet BSC public node
          },
        });

        await provider.enable();
        const web3 = new Web3(provider);
        const accounts = await web3.eth.getAccounts();
        const walletAddress = accounts[0];
        walletAddressDisplay.textContent = `Wallet Address: ${walletAddress}`;
        console.log("Connected with WalletConnect: ", walletAddress);
      }
    }

    connectWalletButton.addEventListener('click', connectWallet);
  </script>
</body>
</html>
